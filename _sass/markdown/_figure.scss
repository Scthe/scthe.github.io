%figure-caption {
  @extend %post-margins;
  font-size: $font-size-image-caption;
  margin-top: $post-figure-caption-margin-top;
  text-align: center;

  & > p {
    display: inline;
  }
}

.markdown figure {
  @include margin-v($post-element-margin-top, 0);
  margin-left: 0;
  margin-right: 0;
}

// image
.markdown img {
  display: block;
  margin: 0 auto 0;
  max-width: 100%;
  height: auto; // preserve aspect ratio when width&height provided
  background-color: var(--background-content);
}
@include dark-mode {
  .markdown img {
    filter: $dark-mode-image-filter;
    background-color: var(--background-image-dark);
  }
}

.lazyimage figcaption {
  @extend %figure-caption;
}

// code
.markdown .highlight {
  margin: $post-element-margin-top 0 0;

  & > pre {
    margin-top: 0;
    margin-bottom: 0;
  }

  & + figcaption {
    @extend %figure-caption;
  }
}
